# Maintainer: Fabio Loli <loli_fabio@protonmail.com>
# Maintainer: Mikel Pintado <mikelaitornube2010@gmail.com>
# Contributor: Jiawen Geng

pkgname=github-desktop
pkgver=0.7.1_beta4
pkgrel=1
pkgdesc="GUI for managing Git and GitHub."
arch=('x86_64')
url="https://desktop.github.com"
license=('MIT')
depends=('git' 'electron' 'nodejs')
optdepends=('hub: CLI interface for GitHub.' )
makedepends=('libcurl-openssl-1.0')
source=("https://github.com/gengjiawen/desktop/releases/download/v${pkgver//_/-}/desktop_${pkgver//_/-}_amd64.deb"
        "MIT::https://github.com/gengjiawen/desktop/blob/feature/linux/LICENSE")
md5sums=('2d232e9856d9f658ba33ebc533e3505c'
         'SKIP')

package()   {
  bsdtar -xf ${srcdir}/data.tar.xz -C ${pkgdir}/
#  install -d ${pkgdir}/usr/bin
#  ln -s /opt/GithubDesktop/desktop ${pkgdir}/usr/bin/deskstop

  install -d ${pkgdir}/usr/share/licenses/${pkgname}
  install MIT ${pkgdir}/usr/share/licenses/${pkgname}
  mv ${pkgdir}/opt/GithubDesktop/LICENSE.electron.txt ${pkgdir}/usr/share/licenses/${pkgname}
  mv ${pkgdir}/opt/GithubDesktop/LICENSES.chromium.html ${pkgdir}/usr/share/licenses/${pkgname}
}

